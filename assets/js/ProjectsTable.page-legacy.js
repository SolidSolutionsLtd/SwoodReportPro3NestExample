!function(){function t(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,l,a,o=[],s=!0,u=!1;try{if(l=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=l.call(r)).done)&&(o.push(n.value),o.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}(t,r)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}System.register(["../main-legacy.CsvOgoHt.js","./Table-legacy.js","./VariableParser-legacy.js"],(function(e,r){"use strict";var n,i,l,a,o,s,u,c,d,f,v,m,h,y,p,S,b,g,j,x,w;return{setters:[function(t){n=t.r,i=t.d,l=t.j,a=t.T,o=t.S,s=t.I,u=t.M,c=t.B,d=t.R,f=t.u},function(t){v=t.X,m=t.Q,h=t.b,y=t.a,p=t.t,S=t.S,b=t.F,g=t.T,j=t.c,x=t.d,w=t.v},null],execute:function(){window.XLSX=v;var r={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"white",boxShadow:24,p:4},R=function(e){var f,v,R=e.data,C=e.settings,B=e.title,N=e.filter,T=e.resource,E=void 0===T?"":T,k=t(n.useState(!1),2),A=k[0],O=k[1],V=t(n.useState(""),2),P=V[0],F=V[1],D=t(n.useState(I(null==C?void 0:C.splitBy)),2),G=D[0],M=D[1],U=t(n.useState(null),2),X=U[0],_=U[1],L=t(n.useState(R),2),q=L[0],J=L[1],Q=t(n.useState(N),2),$=Q[0],z=Q[1],H=t(n.useState(null),2),K=H[0],W=H[1],Y=n.useCallback((function(t){return i(F,300)(t)}),[F]);n.useEffect((function(){if(N){z(N);var t=new m({dataSource:R}).getPredicate(N);W(t)}return function(){z(void 0),W(null)}}),[R,N]),n.useEffect((function(){var t=h(R,C),e=y(R,P,K,t);if(J(e),G){var r=p(e,G.field,G.emptyValue);_(r)}else _(null)}),[R,P,K,G,N]);var Z=n.useCallback((function(t){var e,r,n=null!==(e=null==C||null===(r=C.splitBy)||void 0===r?void 0:r.find((function(e){return e.field===t})))&&void 0!==e?e:null;M(n),null===t&&_(null)}),[]);return l.jsxs(l.Fragment,{children:[B&&l.jsx(a,{variant:"h1",className:"section-title no-print",sx:{marginBottom:2},children:B}),l.jsxs(o,{direction:"row",mb:1,className:"no-print",alignItems:"center",children:[l.jsx(S,{setFilter:Y}),l.jsx(s,{onClick:function(){return O(!0)},"aria-label":"filter data",color:$?"error":"primary",children:l.jsx(b,{})}),(null==C?void 0:C.splitBy)&&l.jsx(g,{splitBy:null!==(f=C.splitBy)&&void 0!==f?f:[],handleToggle:function(t){return Z(t)},defaultValue:null===(v=I(C.splitBy))||void 0===v?void 0:v.field})]}),l.jsx(u,{open:A,onClose:function(t,e){"backdropClick"!==e&&O(!1)},className:"no-print",children:l.jsx(c,{sx:r,children:l.jsx(j,{data:R,rules:$,setOpen:O,setFilteredData:function(t,e,r){z(e),W(r)}})})}),!X&&l.jsx(x,{data:q,settings:C,header:null==C?void 0:C.title,search:!1,resource:E,displayResults:!0}),X&&Array.from(X.entries()).map((function(e){var r=t(e,2),n=r[0],i=r[1];return l.jsxs(d.Fragment,{children:[l.jsx(x,{data:i.items,settings:C,header:n?n.toString():"",resource:E,displayResults:!0},n?n.toString():""),l.jsx("br",{})]},w())}))]})},I=function(t){var e;return null!==(e=null==t?void 0:t.find((function(t){return t.default})))&&void 0!==e?e:null};e("default",(function(){var t=f();if(!t)return l.jsx("div",{children:"no data available"});return l.jsx(R,{data:t,settings:{title:"Reports",columns:[{field:"projectName",title:"Name",formatter:function(t){var e=t.getValue(),r=t.getData().url;return'<a href="'.concat(r,'">').concat(e,"</a>")}},{field:"createdBy",title:"createdBy",width:250},{field:"quantityRuns",title:"Runs",width:100},{field:"variables.ReportVersion",title:"Report Version",width:175},{field:"reportVersion",title:"Swood Version",width:175},{field:"variables.REPORT_ISUSINGDESIGN",title:"design",width:100,formatter:"tickCross"},{field:"variables.REPORT_ISUSINGCAM",title:"cam",width:100,formatter:"tickCross"},{field:"variables.REPORT_ISNESTINGPROJECT",title:"nest",width:100,formatter:"tickCross"},{field:"createdDate",title:"date",width:300}]},title:"List of Reports"})}))}}}))}();
