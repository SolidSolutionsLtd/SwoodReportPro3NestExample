class r{constructor(n,e,t){this.alias=n,this.value=e,this.type=t}static fromRawData(n,e){const t=e.find(a=>a.alias===n.alias);if(!t)return console.warn('No definition found for variable alias "'.concat(n.alias,"\", defaulting to 'unknown'")),new r(n.alias,n.value,"unknown");const s=r.parseValue(n.value,t.type);return new r(n.alias,s,t.type)}static parseValue(n,e){switch(e){case"S":case"PR":return String(n);case"A":{const a=Number(n)*(180/Math.PI),o=Number(a.toFixed(6));return isNaN(o)?(console.warn('invalid number for type "'.concat(e,'": "').concat(n,'", defaulting to 0')),0):o}case"D":case"R":case"T":{const s=Number(n),a=Number(s.toFixed(6));return isNaN(a)?(console.warn('invalid number for type "'.concat(e,'": "').concat(n,'", defaulting to 0')),0):a}case"I":{const t=parseInt(n);return isNaN(t)?(console.warn('invalid number for type "'.concat(e,'": "').concat(n,'", defaulting to 0')),0):t}case"B":return n.toLocaleLowerCase()==="true"||n==="1";default:return console.warn('unhandled type "'.concat(e,'", returning raw value')),n}}static parseVariables(n,e){const t={};if(!n)return console.error("variablesRaw is null"),t;for(const s of n){const a=r.fromRawData(s,e);t[a.alias]=a.value}return t}static parseVariableGroupToRecord(n){if(!n)return null;const e={},t=r.parseVariablesArrayToObject(n.variables);return e[n.name]=t,e}static parseVariablesArrayToObject(n){if(!n||n.length===0)return{};const e={};for(const t of n)e[t.alias]=r.parseValue(t.value,t.type);return e}static parseTypedVariablesArray(n){if(!n)return null;const e={};for(const t of n){const s=this.parseVariableGroupToRecord(t);s&&s[t.name]&&(e[t.name]=s[t.name])}return e}}export{r as V};
